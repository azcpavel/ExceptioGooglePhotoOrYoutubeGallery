!function(t){var i={type:"picasa",galleryWidth:"100%",wrapClass:null,galleryUserId:"azc.pavel@gmail.com",emptyMessage:"No Content Found",galleryUserApiKey:"",photoCommentsCSS:{margin:"0 auto",width:"60%","text-align":"left"},photoViewMainDivNextText:"Next",photoViewMainDivNextClass:"",photoViewMainDivPrevText:"Prev",photoViewMainDivPrevClass:"",albumRootText:"Exceptio Google Gallery",albumBreadcrumbCSS:{},albumBreadcrumbArrow:"<span> &lt;= </span>",albumBreadcrumbSpanCSS:{color:"#000",cursor:"pointer"},albumTitleCSS:"",backgroundAlbum:"rgb(0,0,0)",backgroundAlbumHover:"rgba(0,0,0,0.9)",backgroundGallery:"rgb(0,0,0)",backgroundPopup:"rgba(0,0,0,0.6)",photoPreviewCloseText:"Close&nbsp;&nbsp;&nbsp;",hideMoreThen:0,hideMoreThenBack:0,loadingImage:"loader.gif",loadMoreText:"Load More..",loadLessText:"Load Less..",loadMoreCSS:{cursor:"pointer"},onGalleryEnter:function(){},onGalleryPhoto:function(){}};t.fn.exceptioGoogleGallery=function(e){function s(){r.reloadGallery(e)}if(0==this.length)return this;if(this.length>1)return this.each(function(){t(this).exceptioGoogleGallery(e)}),this;var o,n,l,a={},r=this,h=t(window).width(),p=t(window).height();t(window).resize(function(){r.fadeIn(),t(".photoGallery").remove(),clearTimeout(l),h=t(window).width(),p=t(window).height(),l=setTimeout(s,500)});var d=function(e){a.settings=t.extend({},i,e),n=h>768?"25":h>480?"50":"100",r.html('<div style="width:100%;text-align:center;"><img src="'+a.settings.loadingImage+'"/></div>'),t("#exLoadMoreAlbum").remove(),r.wrap('<div class="exGallery" data-exGalleryIndex="'+t("div").index(r)+'"><div class="ex-viewport"></div></div>'),r.viewport=r.parent().css({"float":"left",width:"100%"}),r.more=t('<div class="exMore" style="width:100%;float:left"></div>'),r.breadcrumb=t('<div style="width:100%;float:left"></div>').css(a.settings.albumBreadcrumbCSS),r.root=t('<span style="cursor:pointer" title="Back to Album Root">'+a.settings.albumRootText+"</span>").css(a.settings.albumBreadcrumbSpanCSS).click(function(){t(this).parent().find("span:gt(0)").remove(),t(this).html(a.settings.albumRootText),r.viewport.find('div[class="photoGallery"]').fadeOut("slow").remove(),r.fadeIn("slow"),r.more.fadeIn("slow")}),r.viewport.prepend(r.breadcrumb),r.breadcrumb.html(r.root),r.viewport.append(r.more),r.wrapper=r.viewport.parent().css({"float":"left",width:"100%"}),r.css({"float":"left",width:"99%",padding:"0.5%"}),null!=a.settings.wrapClass&&r.wrapper.addClass(a.settings.wrapClass),"youtube"==a.settings.type&&t.getJSON("https://www.googleapis.com/youtube/v3/playlistItems?playlistId="+a.settings.galleryUserId+"&key="+a.settings.galleryUserApiKey+"&maxResults=50&type=video&part=id,snippet",function(i){if(i.items.length<1)return void r.viewport.html(a.settings.emptyMessage);t.getJSON("https://www.googleapis.com/youtube/v3/channels?id="+i.items[0].snippet.channelId+"&key="+a.settings.galleryUserApiKey+"&part=contentDetails,snippet,statistics",function(t){o=t.items[0]});var e=i.items,s=function(i){t.getJSON("https://www.googleapis.com/youtube/v3/playlistItems?pageToken="+i.nextPageToken+"&playlistId="+a.settings.galleryUserId+"&key="+a.settings.galleryUserApiKey+"&maxResults=50&type=video&part=id,snippet",function(i){if(i.nextPageToken)t.each(i.items,function(t,i){e.push(i)}),s(i);else{if(t.each(i.items,function(t,i){e.push(i)}),r.empty(),0!=a.settings.hideMoreThen)var o=e.length>=a.settings.hideMoreThen?a.settings.hideMoreThen:e.length;else var o=e.length;for(var n=0;o>n;n++)g(e,n)}})};if(i.nextPageToken)s(i);else{if(r.empty(),0!=a.settings.hideMoreThen)var n=e.length>=a.settings.hideMoreThen?a.settings.hideMoreThen:e.length;else var n=e.length;for(var l=0;n>l;l++)g(e,l)}}),"picasa"==a.settings.type&&t.getJSON("https://picasaweb.google.com/data/feed/base/user/"+a.settings.galleryUserId+"?access=public&alt=json-in-script&callback=?",function(t){if(t.feed.entry.length<1)return void r.viewport.html(a.settings.emptyMessage);var i=t.feed.entry;if(r.empty(),0!=a.settings.hideMoreThen)var e=i.length>=a.settings.hideMoreThen?a.settings.hideMoreThen:i.length;else var e=i.length;for(var s=0;e>s;s++)u(i,s)}),(0!=a.settings.hideMoreThen||0!=a.settings.hideMoreThenBack)&&(0!=a.settings.hideMoreThen?this.$loadMore=t('<span class="exLoadMoreAlbum">'+a.settings.loadMoreText+"</span>").css(a.settings.loadMoreCSS).click(function(){a.settings.hideMoreThenBack=a.settings.hideMoreThen,a.settings.hideMoreThen=0,r.reloadGallery(a.settings)}):this.$loadMore=t('<span class="exLoadMoreAlbum">'+a.settings.loadLessText+"</span>").css(a.settings.loadMoreCSS).click(function(){a.settings.hideMoreThen=a.settings.hideMoreThenBack,r.reloadGallery(a.settings),t("html,body").animate({scrollTop:r.offset().top},500)}),r.more.html(this.$loadMore))},g=function(i,e){t.getJSON("https://www.googleapis.com/youtube/v3/videos?id="+i[e].snippet.resourceId.videoId+"&key="+a.settings.galleryUserApiKey+"&part=snippet,statistics,status",function(s){var o=s.items[0];this.$galleryAlbum=t('<div class="galleryAlbum"></div>').css({position:"relative",height:"210","float":"left",cursor:"pointer",background:a.settings.backgroundAlbum,margin:"0.5%",width:n-1+"%",overflow:"hidden"}),this.$galleryAlbumImage=t('<img src="'+o.snippet.thumbnails.high.url+'">').css({transition:"all 0.5s","-o-transition":"all 0.5s","-moz-transition":"all 0.5s","-webkit-transition":"all 0.5s",width:"150%","min-height":"210px","margin-left":"-25%",display:"inline-block","vertical-align":"middle"}),this.$galleryAlbum.html(this.$galleryAlbumImage),this.$galleryAlbumPop=t('<div class="galleryAlbumPop"></div>').css({overflow:"hidden",height:"250px",width:"100%",color:"#FFF",background:a.settings.backgroundAlbumHover,"text-align":"center",transition:"all 0.5s","-o-transition":"all 0.5s","-moz-transition":"all 0.5s","-webkit-transition":"all 0.5s",position:"absolute",top:"80%","padding-top":"2%","z-index":"39237"}),this.$galleryAlbumPopDiv=t('<div style="width:100%;text-align:center;">'+o.snippet.title+"</div>"),""!=a.settings.albumTitleCSS&&this.$galleryAlbumPopDiv.css(a.settings.albumTitleCSS),this.$galleryAlbumPop.html(this.$galleryAlbumPopDiv).append("<hr>"),this.$galleryAlbum.append(this.$galleryAlbumPop),this.$galleryAlbum.hover(function(){t(this).find("img").css({width:"100%",height:"auto","min-height":"0","margin-left":"0%","margin-top":Math.ceil((t(this).find("img").parent().height()-100*t(this).find("img").height()/150)/2)}),t(".galleryAlbumPop").css("padding-top","2%"),t(".galleryAlbumPop").css("top","80%"),t(this).find('[class="galleryAlbumPop"]').css({"padding-top":"35%",top:"-0.5%"})},function(){t(this).find("img").css({width:"150%","min-height":"210px","margin-left":"-25%","margin-top":"0px"}),t(".galleryAlbumPop").css("padding-top","2%"),t(".galleryAlbumPop").css("top","80%")}),t("body").click(function(){t(".galleryAlbumPop").css("padding-top","2%"),t(".galleryAlbumPop").css("top","80%")}),this.$galleryAlbum.click(function(){r.more.fadeOut("slow"),c(i,e),a.settings.onGalleryEnter()}),r.append(this.$galleryAlbum)})},c=function(i,e){this.$tubeView=t('<div id="photoPreview"></div>').css({"overflow-y":"auto",height:t(window).height(),width:t(window).width(),color:"#FFF",background:a.settings.backgroundPopup,"text-align":"center",transition:"all 0.5s","-o-transition":"all 0.5s","-moz-transition":"all 0.5s","-webkit-transition":"all 0.5s",position:"fixed",top:"0",left:"0","z-index":"39237846"}),this.$tubeViewClose=t("<div>"+a.settings.photoPreviewCloseText+"</div>").attr("title","Click to close.").css({position:"relative",margin:"5% auto 0 auto","font-size":"20px",width:"80%","text-align":"right",cursor:"pointer"}).click(function(){t(this).parent().fadeOut("slow").remove(),r.more.fadeIn("slow")}),this.$tubeView.html(this.$tubeViewClose),r.append(this.$tubeView),this.$tubeViewMainDiv=t('<div style="width:100%;"></div>'),this.$tubeView.append(this.$tubeViewMainDiv);var s;s=p>h?40*p/100:80*p/100,this.$tubeViewMainDiv.html('<object style="width:60%;height:'+s+'px;margin:0 auto;"><param name="movie" value="https://www.youtube.com/v/'+i[e].snippet.resourceId.videoId+"?version=3&autoplay=0&list="+o.contentDetails.relatedPlaylists.uploads+'"></param><param name="allowScriptAccess" value="always"></param><embed src="https://www.youtube.com/v/'+i[e].snippet.resourceId.videoId+"?version=3&autoplay=0&list="+o.contentDetails.relatedPlaylists.uploads+'" type="application/x-shockwave-flash" allowscriptaccess="always" style="width:60%;height:'+s+'px;"></embed></object>'),this.$tubeViewMainDivComment=t("<div>"+i[e].snippet.description+"</div>").css(a.settings.photoCommentsCSS),this.$tubeViewMainDiv.append(this.$tubeViewMainDivComment),"undefined"!=typeof i[e+1]&&(this.$tubeViewMainDivNext=t("<span>"+a.settings.photoViewMainDivNextText+"</span>").css({cursor:"pointer",top:"50%",position:"absolute",right:"10%"}).click(function(){t("#photoPreview").remove(),c(i,e+1)}),""!=a.settings.photoViewMainDivNextClass&&this.$tubeViewMainDivNext.addClass(a.settings.photoViewMainDivNextClass),this.$tubeViewMainDiv.append(this.$tubeViewMainDivNext)),"undefined"!=typeof i[e-1]&&(this.$tubeViewMainDivPrev=t("<span>"+a.settings.photoViewMainDivPrevText+"</span>").css({cursor:"pointer",top:"50%",position:"absolute",left:"10%"}).click(function(){t("#photoPreview").remove(),c(i,e-1)}),""!=a.settings.photoViewMainDivPrevClass&&this.$tubeViewMainDivPrev.addClass(a.settings.photoViewMainDivPrevClass),this.$tubeViewMainDiv.append(this.$tubeViewMainDivPrev)),a.settings.onGalleryPhoto()},u=function(i,e){t.getJSON(i[e].link[0].href+"&imgmax=1600&access=public&alt=json-in-script&callback=?",function(s){var o=s.feed;this.$galleryAlbum=t('<div class="galleryAlbum"></div>').css({position:"relative",height:"210","float":"left",cursor:"pointer",background:a.settings.backgroundAlbum,margin:"0.5%",width:n-1+"%",overflow:"hidden"}),this.$galleryAlbumImage=t('<img src="'+o.entry[0].content.src+'">').css({transition:"all 0.5s","-o-transition":"all 0.5s","-moz-transition":"all 0.5s","-webkit-transition":"all 0.5s",width:"150%","min-height":"210px","margin-left":"-25%",display:"inline-block","vertical-align":"middle"}),this.$galleryAlbum.html(this.$galleryAlbumImage),this.$galleryAlbumPop=t('<div class="galleryAlbumPop"></div>').css({overflow:"hidden",height:"250px",width:"100%",color:"#FFF",background:a.settings.backgroundAlbumHover,"text-align":"center",transition:"all 0.5s","-o-transition":"all 0.5s","-moz-transition":"all 0.5s","-webkit-transition":"all 0.5s",position:"absolute",top:"80%","padding-top":"2%","z-index":"39237"}),this.$galleryAlbumPopDiv=t('<div style="width:100%;text-align:center;">'+i[e].title.$t+"</div>"),""!=a.settings.albumTitleCSS&&this.$galleryAlbumPopDiv.css(a.settings.albumTitleCSS),this.$galleryAlbumPop.html(this.$galleryAlbumPopDiv).append("<hr>"),this.$galleryAlbum.append(this.$galleryAlbumPop),this.$galleryAlbum.hover(function(){t(this).find("img").css({width:"100%",height:"auto","min-height":"0","margin-left":"0%","margin-top":Math.ceil((t(this).find("img").parent().height()-100*t(this).find("img").height()/150)/2)}),t(".galleryAlbumPop").css("padding-top","2%"),t(".galleryAlbumPop").css("top","80%"),t(this).find('[class="galleryAlbumPop"]').css({"padding-top":"35%",top:"-0.5%"})},function(){t(this).find("img").css({width:"150%","min-height":"210px","margin-left":"-25%","margin-top":"0px"}),t(".galleryAlbumPop").css("padding-top","2%"),t(".galleryAlbumPop").css("top","80%")}),t("body").click(function(){t(".galleryAlbumPop").css("padding-top","2%"),t(".galleryAlbumPop").css("top","80%")}),this.$galleryAlbum.click(function(){r.more.hide(),this.$albumChield=t(a.settings.albumBreadcrumbArrow+" <span>"+i[e].title.$t+"</span>").css(a.settings.albumBreadcrumbSpanCSS),r.breadcrumb.append(this.$albumChield),this.$photoGallery=t('<div class="photoGallery"></div>').css({"overflow-y":"auto","overflow-x":"hidden",height:"auto",width:"99%",color:"#FFF",background:a.settings.backgroundGallery,"text-align":"center",transition:"all 0.5s","-o-transition":"all 0.5s","-moz-transition":"all 0.5s","-webkit-transition":"all 0.5s",position:"relative",padding:"0.5%"}),r.viewport.append(this.$photoGallery),r.hide(),this.$photoGallery.fadeIn("slow").append('<div id="exceptioPhotoView"></div>'),t.each(o.entry,function(i,e){t("#exceptioPhotoView").append('<div data-index="'+i+'" style="margin:0.5%;cursor:pointer;width:'+(n-1)+'%;float:left;height:213px;overflow:hidden;"><img src="'+e.content.src+'" style="width:150%;min-height:210px;margin-left:-25%;transition:all 0.5s;-o-transition:all 0.5s;-moz-transition:all 0.5s;-webkit-transition:all 0.5s;"></div>')}),t("#exceptioPhotoView > div").hover(function(){t(this).find("img").css({"margin-left":"0%","min-height":"0",height:"auto",width:"100%","margin-top":Math.ceil((t(this).find("img").parent().height()-100*t(this).find("img").height()/150)/2)})},function(){t(this).find("img").css({"margin-left":"-25%","min-height":"210px",width:"150%","margin-top":"0px"})}),t("#exceptioPhotoView > div").click(function(){m(o,t(this).data("index"))}),a.settings.onGalleryEnter()}),r.append(this.$galleryAlbum)})},m=function(i,e){this.$photoView=t('<div id="photoPreview"></div>').css({"overflow-y":"auto",height:t(window).height(),width:t(window).width(),color:"#FFF",background:a.settings.backgroundPopup,"text-align":"center",transition:"all 0.5s","-o-transition":"all 0.5s","-moz-transition":"all 0.5s","-webkit-transition":"all 0.5s",position:"fixed",top:"0",left:"0","z-index":"39237846"}),this.$photoViewClose=t("<div>"+a.settings.photoPreviewCloseText+"</div>").attr("title","Click to close.").css({position:"absolute","margin-top":"5%","font-size":"20px",width:"80%","text-align":"right",cursor:"pointer"}).click(function(){t(this).parent().fadeOut("slow").remove()}),this.$photoView.html(this.$photoViewClose),t("#exceptioPhotoView").append(this.$photoView);var s=i.entry[e];this.$photoViewMainDiv=t('<div style="width:100%;margin-top:5%;"></div>'),this.$photoView.append(this.$photoViewMainDiv),this.$photoViewMainDiv.html('<img src="'+s.content.src+'" style="width:60%;margin:0 auto;">'),this.$photoViewMainDivComment=t("<div>"+s.media$group.media$description.$t+"</div>").css(a.settings.photoCommentsCSS),this.$photoViewMainDiv.append(this.$photoViewMainDivComment),"undefined"!=typeof i.entry[e+1]&&(this.$photoViewMainDivNext=t("<span>"+a.settings.photoViewMainDivNextText+"</span>").css({cursor:"pointer",top:"50%",position:"absolute",right:"10%"}).click(function(){t("#photoPreview").remove(),m(i,e+1)}),""!=a.settings.photoViewMainDivNextClass&&this.$photoViewMainDivNext.addClass(a.settings.photoViewMainDivNextClass),this.$photoViewMainDiv.append(this.$photoViewMainDivNext)),"undefined"!=typeof i.entry[e-1]&&(this.$photoViewMainDivPrev=t("<span>"+a.settings.photoViewMainDivPrevText+"</span>").css({cursor:"pointer",top:"50%",position:"absolute",left:"10%"}).click(function(){t("#photoPreview").remove(),m(i,e-1)}),""!=a.settings.photoViewMainDivPrevClass&&this.$photoViewMainDivPrev.addClass(a.settings.photoViewMainDivPrevClass),this.$photoViewMainDiv.append(this.$photoViewMainDivPrev)),a.settings.onGalleryPhoto()};r.desrtoyGallery=function(){r.more.remove(),r.breadcrumb.remove(),t(this).unwrap().unwrap().unwrap(),t(this).children().css({"list-style":"initial","float":"none"})},r.reloadGallery=function(t){r.desrtoyGallery(),d(t)};d(e)}}(jQuery);