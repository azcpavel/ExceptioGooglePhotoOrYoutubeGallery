!function(t){var i={type:"picasa",galleryWidth:"100%",wrapClass:null,galleryUserId:"azc.pavel@gmail.com",galleryUserApiKey:"",photoCommentsCSS:{margin:"0 auto",width:"60%","text-align":"left"},photoViewMainDivNextText:"Next",photoViewMainDivNextClass:"",photoViewMainDivPrevText:"Prev",photoViewMainDivPrevClass:"",albumRootText:"Exceptio Google Gallery",albumBreadcrumbCSS:{},albumBreadcrumbArrow:"<span> &lt;= </span>",albumBreadcrumbSpanCSS:{color:"#000",cursor:"pointer"},albumTitleCSS:"",backgroundAlbum:"rgb(0,0,0)",backgroundAlbumHover:"rgba(0,0,0,0.9)",backgroundGallery:"rgb(0,0,0)",backgroundPopup:"rgba(0,0,0,0.6)",photoPreviewCloseText:"Close&nbsp;&nbsp;&nbsp;",hideMoreThen:0,hideMoreThenBack:0,loadingImage:"loader.gif",loadMoreText:"Load More..",loadLessText:"Load Less..",loadMoreCSS:{cursor:"pointer"},onGalleryEnter:function(){},onGalleryPhoto:function(){}};t.fn.exceptioGoogleGallery=function(e){if(0==this.length)return this;if(this.length>1)return this.each(function(){t(this).exceptioGoogleGallery(e)}),this;var s,o,n={},l=this,a=t(window).width(),r=t(window).height();t(window).resize(function(){a=t(window).width(),r=t(window).height(),l.reloadGallery(e)});var h=function(e){n.settings=t.extend({},i,e),o=a>768?"25":a>480?"50":"100",l.html('<div style="width:100%;text-align:center;"><img src="'+n.settings.loadingImage+'"/></div>'),t("#exLoadMoreAlbum").remove(),l.wrap('<div class="exGallery" data-exGalleryIndex="'+t("div").index(l)+'"><div class="ex-viewport"></div></div>'),l.viewport=l.parent().css({"float":"left",width:"100%"}),l.more=t('<div class="exMore" style="width:100%;float:left"></div>'),l.breadcrumb=t('<div style="width:100%;float:left"></div>').css(n.settings.albumBreadcrumbCSS),l.root=t('<span style="cursor:pointer" title="Back to Album Root">'+n.settings.albumRootText+"</span>").css(n.settings.albumBreadcrumbSpanCSS).click(function(){t(this).parent().find("span:gt(0)").remove(),t(this).html(n.settings.albumRootText),l.viewport.find('div[class="photoGallery"]').fadeOut("slow").remove(),l.fadeIn("slow"),l.more.fadeIn("slow")}),l.viewport.prepend(l.breadcrumb),l.breadcrumb.html(l.root),l.viewport.append(l.more),l.wrapper=l.viewport.parent().css({"float":"left",width:"100%"}),l.css({"float":"left",width:"99%",padding:"0.5%"}),null!=n.settings.wrapClass&&l.wrapper.addClass(n.settings.wrapClass),"youtube"==n.settings.type&&t.getJSON("https://www.googleapis.com/youtube/v3/search?channelId="+n.settings.galleryUserId+"&key="+n.settings.galleryUserApiKey+"&maxResults=50&type=video&part=id,snippet",function(i){t.getJSON("https://www.googleapis.com/youtube/v3/channels?id="+n.settings.galleryUserId+"&key="+n.settings.galleryUserApiKey+"&part=contentDetails,snippet,statistics",function(t){s=t.items[0]});var e=i.items;if(l.empty(),0!=n.settings.hideMoreThen)var o=n.settings.hideMoreThen;else var o=e.length;for(var a=0;o>a;a++)p(e,a)}),"picasa"==n.settings.type&&t.getJSON("https://picasaweb.google.com/data/feed/base/user/"+n.settings.galleryUserId+"?access=public&alt=json-in-script&callback=?",function(t){var i=t.feed.entry;if(l.empty(),0!=n.settings.hideMoreThen)var e=n.settings.hideMoreThen;else var e=i.length;for(var s=0;e>s;s++)g(i,s)}),(0!=n.settings.hideMoreThen||0!=n.settings.hideMoreThenBack)&&(this.$loadMore=0!=n.settings.hideMoreThen?t('<span class="exLoadMoreAlbum">'+n.settings.loadMoreText+"</span>").css(n.settings.loadMoreCSS).click(function(){n.settings.hideMoreThenBack=n.settings.hideMoreThen,n.settings.hideMoreThen=0,l.reloadGallery(n.settings)}):t('<span class="exLoadMoreAlbum">'+n.settings.loadLessText+"</span>").css(n.settings.loadMoreCSS).click(function(){n.settings.hideMoreThen=n.settings.hideMoreThenBack,l.reloadGallery(n.settings),t("html,body").animate({scrollTop:l.offset().top},500)}),l.more.html(this.$loadMore))},p=function(i,e){t.getJSON("https://www.googleapis.com/youtube/v3/videos?id="+i[e].id.videoId+"&key=AIzaSyCCCXZNyaWG43PFT3_aZNsH7fmDTafGnko&part=snippet,statistics,status",function(s){var a=s.items[0];this.$galleryAlbum=t('<div class="galleryAlbum"></div>').css({position:"relative",height:"210","float":"left",cursor:"pointer",background:n.settings.backgroundAlbum,margin:"0.5%",width:o-1+"%",overflow:"hidden"}),this.$galleryAlbumImage=t('<img src="'+a.snippet.thumbnails.high.url+'">').css({transition:"all 0.5s","-o-transition":"all 0.5s","-moz-transition":"all 0.5s","-webkit-transition":"all 0.5s",width:"150%","min-height":"210px","margin-left":"-25%",display:"inline-block","vertical-align":"middle"}),this.$galleryAlbum.html(this.$galleryAlbumImage),this.$galleryAlbumPop=t('<div class="galleryAlbumPop"></div>').css({overflow:"hidden",height:"250px",width:"100%",color:"#FFF",background:n.settings.backgroundAlbumHover,"text-align":"center",transition:"all 0.5s","-o-transition":"all 0.5s","-moz-transition":"all 0.5s","-webkit-transition":"all 0.5s",position:"absolute",top:"80%","padding-top":"2%","z-index":"39237"}),this.$galleryAlbumPopDiv=t('<div style="width:100%;text-align:center;">'+a.snippet.title+"</div>"),""!=n.settings.albumTitleCSS&&this.$galleryAlbumPopDiv.css(n.settings.albumTitleCSS),this.$galleryAlbumPop.html(this.$galleryAlbumPopDiv).append("<hr>"),this.$galleryAlbum.append(this.$galleryAlbumPop),this.$galleryAlbum.hover(function(){t(this).find("img").css({width:"100%",height:"auto","min-height":"0","margin-left":"0%","margin-top":Math.ceil((t(this).find("img").parent().height()-100*t(this).find("img").height()/150)/2)}),t(".galleryAlbumPop").css("padding-top","2%"),t(".galleryAlbumPop").css("top","80%"),t(this).find('[class="galleryAlbumPop"]').css({"padding-top":"35%",top:"-0.5%"})},function(){t(this).find("img").css({width:"150%","min-height":"210px","margin-left":"-25%","margin-top":"0px"}),t(".galleryAlbumPop").css("padding-top","2%"),t(".galleryAlbumPop").css("top","80%")}),t("body").click(function(){t(".galleryAlbumPop").css("padding-top","2%"),t(".galleryAlbumPop").css("top","80%")}),this.$galleryAlbum.click(function(){l.more.fadeOut("slow"),d(i,e),n.settings.onGalleryEnter()}),l.append(this.$galleryAlbum)})},d=function(i,e){this.$tubeView=t('<div id="photoPreview"></div>').css({"overflow-y":"auto",height:t(window).height(),width:t(window).width(),color:"#FFF",background:n.settings.backgroundPopup,"text-align":"center",transition:"all 0.5s","-o-transition":"all 0.5s","-moz-transition":"all 0.5s","-webkit-transition":"all 0.5s",position:"fixed",top:"0",left:"0","z-index":"39237846"}),this.$tubeViewClose=t("<div>"+n.settings.photoPreviewCloseText+"</div>").attr("title","Click to close.").css({position:"absolute","margin-top":"5%","font-size":"20px",width:"80%","text-align":"right",cursor:"pointer"}).click(function(){t(this).parent().fadeOut("slow").remove(),l.more.fadeIn("slow")}),this.$tubeView.html(this.$tubeViewClose),l.append(this.$tubeView),this.$tubeViewMainDiv=t('<div style="width:100%;margin-top:5%;"></div>'),this.$tubeView.append(this.$tubeViewMainDiv),this.$tubeViewMainDiv.html('<iframe src="http://www.youtube.com/embed/'+i[e].id.videoId+"?list="+s.contentDetails.relatedPlaylists.uploads+'" frameborder="0" style="width:60%;height:'+r/1.2+'px;margin:0 auto;"></iframe>'),this.$tubeViewMainDivComment=t("<div>"+i[e].snippet.description+"</div>").css(n.settings.photoCommentsCSS),this.$tubeViewMainDiv.append(this.$tubeViewMainDivComment),"undefined"!=typeof i[e+1]&&(this.$tubeViewMainDivNext=t("<span>"+n.settings.photoViewMainDivNextText+"</span>").css({cursor:"pointer",top:"50%",position:"absolute",right:"10%"}).click(function(){t("#photoPreview").remove(),d(i,e+1)}),""!=n.settings.photoViewMainDivNextClass&&this.$tubeViewMainDivNext.addClass(n.settings.photoViewMainDivNextClass),this.$tubeViewMainDiv.append(this.$tubeViewMainDivNext)),"undefined"!=typeof i[e-1]&&(this.$tubeViewMainDivPrev=t("<span>"+n.settings.photoViewMainDivPrevText+"</span>").css({cursor:"pointer",top:"50%",position:"absolute",left:"10%"}).click(function(){t("#photoPreview").remove(),d(i,e-1)}),""!=n.settings.photoViewMainDivPrevClass&&this.$tubeViewMainDivPrev.addClass(n.settings.photoViewMainDivPrevClass),this.$tubeViewMainDiv.append(this.$tubeViewMainDivPrev)),n.settings.onGalleryPhoto()},g=function(i,e){t.getJSON(i[e].link[0].href+"&imgmax=1600&access=public&alt=json-in-script&callback=?",function(s){var a=s.feed;this.$galleryAlbum=t('<div class="galleryAlbum"></div>').css({position:"relative",height:"210","float":"left",cursor:"pointer",background:n.settings.backgroundAlbum,margin:"0.5%",width:o-1+"%",overflow:"hidden"}),this.$galleryAlbumImage=t('<img src="'+a.entry[0].content.src+'">').css({transition:"all 0.5s","-o-transition":"all 0.5s","-moz-transition":"all 0.5s","-webkit-transition":"all 0.5s",width:"150%","min-height":"210px","margin-left":"-25%",display:"inline-block","vertical-align":"middle"}),this.$galleryAlbum.html(this.$galleryAlbumImage),this.$galleryAlbumPop=t('<div class="galleryAlbumPop"></div>').css({overflow:"hidden",height:"250px",width:"100%",color:"#FFF",background:n.settings.backgroundAlbumHover,"text-align":"center",transition:"all 0.5s","-o-transition":"all 0.5s","-moz-transition":"all 0.5s","-webkit-transition":"all 0.5s",position:"absolute",top:"80%","padding-top":"2%","z-index":"39237"}),this.$galleryAlbumPopDiv=t('<div style="width:100%;text-align:center;">'+i[e].title.$t+"</div>"),""!=n.settings.albumTitleCSS&&this.$galleryAlbumPopDiv.css(n.settings.albumTitleCSS),this.$galleryAlbumPop.html(this.$galleryAlbumPopDiv).append("<hr>"),this.$galleryAlbum.append(this.$galleryAlbumPop),this.$galleryAlbum.hover(function(){t(this).find("img").css({width:"100%",height:"auto","min-height":"0","margin-left":"0%","margin-top":Math.ceil((t(this).find("img").parent().height()-100*t(this).find("img").height()/150)/2)}),t(".galleryAlbumPop").css("padding-top","2%"),t(".galleryAlbumPop").css("top","80%"),t(this).find('[class="galleryAlbumPop"]').css({"padding-top":"35%",top:"-0.5%"})},function(){t(this).find("img").css({width:"150%","min-height":"210px","margin-left":"-25%","margin-top":"0px"}),t(".galleryAlbumPop").css("padding-top","2%"),t(".galleryAlbumPop").css("top","80%")}),t("body").click(function(){t(".galleryAlbumPop").css("padding-top","2%"),t(".galleryAlbumPop").css("top","80%")}),this.$galleryAlbum.click(function(){l.more.hide(),this.$albumChield=t(n.settings.albumBreadcrumbArrow+" <span>"+i[e].title.$t+"</span>").css(n.settings.albumBreadcrumbSpanCSS),l.breadcrumb.append(this.$albumChield),this.$photoGallery=t('<div class="photoGallery"></div>').css({"overflow-y":"auto","overflow-x":"hidden",height:"auto",width:"99%",color:"#FFF",background:n.settings.backgroundGallery,"text-align":"center",transition:"all 0.5s","-o-transition":"all 0.5s","-moz-transition":"all 0.5s","-webkit-transition":"all 0.5s",position:"relative",padding:"0.5%"}),l.viewport.append(this.$photoGallery),l.hide(),this.$photoGallery.fadeIn("slow").append('<div id="exceptioPhotoView"></div>'),t.each(a.entry,function(i,e){t("#exceptioPhotoView").append('<div data-index="'+i+'" style="margin:0.5%;cursor:pointer;width:'+(o-1)+'%;float:left;height:213px;overflow:hidden;"><img src="'+e.content.src+'" style="width:150%;min-height:210px;margin-left:-25%;transition:all 0.5s;-o-transition:all 0.5s;-moz-transition:all 0.5s;-webkit-transition:all 0.5s;"></div>')}),t("#exceptioPhotoView > div").hover(function(){t(this).find("img").css({"margin-left":"0%","min-height":"0",height:"auto",width:"100%","margin-top":Math.ceil((t(this).find("img").parent().height()-100*t(this).find("img").height()/150)/2)})},function(){t(this).find("img").css({"margin-left":"-25%","min-height":"210px",width:"150%","margin-top":"0px"})}),t("#exceptioPhotoView > div").click(function(){c(a,t(this).data("index"))}),n.settings.onGalleryEnter()}),l.append(this.$galleryAlbum)})},c=function(i,e){this.$photoView=t('<div id="photoPreview"></div>').css({"overflow-y":"auto",height:t(window).height(),width:t(window).width(),color:"#FFF",background:n.settings.backgroundPopup,"text-align":"center",transition:"all 0.5s","-o-transition":"all 0.5s","-moz-transition":"all 0.5s","-webkit-transition":"all 0.5s",position:"fixed",top:"0",left:"0","z-index":"39237846"}),this.$photoViewClose=t("<div>"+n.settings.photoPreviewCloseText+"</div>").attr("title","Click to close.").css({position:"absolute","margin-top":"5%","font-size":"20px",width:"80%","text-align":"right",cursor:"pointer"}).click(function(){t(this).parent().fadeOut("slow").remove()}),this.$photoView.html(this.$photoViewClose),t("#exceptioPhotoView").append(this.$photoView);var s=i.entry[e];this.$photoViewMainDiv=t('<div style="width:100%;margin-top:5%;"></div>'),this.$photoView.append(this.$photoViewMainDiv),this.$photoViewMainDiv.html('<img src="'+s.content.src+'" style="width:60%;margin:0 auto;">'),this.$photoViewMainDivComment=t("<div>"+s.media$group.media$description.$t+"</div>").css(n.settings.photoCommentsCSS),this.$photoViewMainDiv.append(this.$photoViewMainDivComment),"undefined"!=typeof i.entry[e+1]&&(this.$photoViewMainDivNext=t("<span>"+n.settings.photoViewMainDivNextText+"</span>").css({cursor:"pointer",top:"50%",position:"absolute",right:"10%"}).click(function(){t("#photoPreview").remove(),c(i,e+1)}),""!=n.settings.photoViewMainDivNextClass&&this.$photoViewMainDivNext.addClass(n.settings.photoViewMainDivNextClass),this.$photoViewMainDiv.append(this.$photoViewMainDivNext)),"undefined"!=typeof i.entry[e-1]&&(this.$photoViewMainDivPrev=t("<span>"+n.settings.photoViewMainDivPrevText+"</span>").css({cursor:"pointer",top:"50%",position:"absolute",left:"10%"}).click(function(){t("#photoPreview").remove(),c(i,e-1)}),""!=n.settings.photoViewMainDivPrevClass&&this.$photoViewMainDivPrev.addClass(n.settings.photoViewMainDivPrevClass),this.$photoViewMainDiv.append(this.$photoViewMainDivPrev)),n.settings.onGalleryPhoto()};l.desrtoyGallery=function(){l.more.remove(),l.breadcrumb.remove(),t(this).unwrap().unwrap(),t(this).children().css({"list-style":"initial","float":"none"})},l.reloadGallery=function(t){l.desrtoyGallery(),h(t)};h(e)}}(jQuery);